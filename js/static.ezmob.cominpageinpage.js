/**
 * floatingpush 1.0.6
 * Generated: 2022-05-05
 */

!function(){"use strict";function l(e,t,i){e.addEventListener?e.addEventListener(t,i):e.attachEvent&&e.attachEvent("on"+t,i)}var h=Object.freeze({TOP:"top",BOTTOM:"bottom"}),p=Object.freeze({NOTIFICATION_AREA:"layout_push_notification_area",INNER_STYLE:"layout_push_inner_style",INNER_CONTENT:"layout_push_inner_content"}),a={base:'<template id="layout_push_notification_area"><style>#push_notification_area{position:fixed;top:0;right:0;height:100%;display:flex;flex-direction:column;width:100%;max-width:410px;user-select:none;pointer-events:none;z-index:99999}.area_top{justify-content:flex-start}.area_bottom{justify-content:flex-end}</style><div id="push_notification_area"></div></template><template id="layout_push_inner_style"><style>:host{all:revert}.hide{display:none!important}@keyframes _animation_show{from{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes _animation_hide{from{transform:translateX(0)}to{transform:translateX(100%)}}@keyframes _animation_destroy{from{transform:scale(1,1)}to{transform:scale(0,0)}}.animation_show{animation:_animation_show .3s ease-out}.animation_hide{animation:_animation_hide .3s ease-out}.animation_destroy{animation:_animation_destroy 50ms ease-out}.push_message{box-sizing:border-box;overflow:hidden;padding:0;margin:0;margin-top:2px;margin-left:2px;margin-right:4px;margin-bottom:4px;flex-direction:row;height:96px;min-height:96px;max-width:100%;background:#f5f5f5;display:flex;pointer-events:initial;cursor:default;transition:transform 1s;border-radius:5px;box-shadow:0 1px 1px rgba(0,0,0,.15),0 2px 2px rgba(0,0,0,.15),0 3px 3px rgba(0,0,0,.15),0 4px 4px rgba(0,0,0,.15)}.ui_elem_wrapper{display:flex}.ad_text_wrapper{flex-grow:1;flex-shrink:1;height:100%;display:inline-flex;overflow:hidden;padding-left:14px;padding-top:5px;padding-bottom:5px;box-sizing:border-box}.ad_text{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;display:flex;flex-direction:column;justify-content:space-around;height:100%;overflow:hidden;box-sizing:border-box;max-width:100%}.ad_title{font-size:16px;font-weight:700;line-height:1em;max-height:2em;min-height:1em;overflow:hidden;text-overflow:clip;margin-bottom:.2em}.ad_descr{font-size:14px;max-height:3em;line-height:1em;overflow:hidden;text-overflow:clip}.ad_icon_wrapper{width:92px;height:92px;flex-grow:0;flex-shrink:0;padding:1%;box-sizing:border-box}.ad_icon{width:100%;height:100%;border:0 solid #f5f5f5;border-radius:8px;overflow:hidden}.ad_close_button{color:#000;display:flex;justify-content:center;align-items:center;width:30px;height:100%;flex-grow:0;flex-shrink:0;padding:0;font-size:30px;cursor:default}.ad_close_button:hover{font-weight:700}</style></template><template id="layout_push_inner_content"><div class="push_message animation_show"><div class="ad_icon_wrapper ui_elem_wrapper"><img class="ad_icon"></div><div class="ui_elem_wrapper ad_text_wrapper"><div class="ad_text"><div class="ad_title"></div><div class="ad_descr"></div></div></div><div class="ad_close_button ui_elem_wrapper">&times;</div></div></template>',mobile_mini:'<template id="layout_push_notification_area"><style>#push_notification_area{position:fixed;top:0;right:0;height:100%;display:flex;flex-direction:column;width:100%;max-width:410px;user-select:none;pointer-events:none;z-index:99999}.area_top{justify-content:flex-start}.area_bottom{justify-content:flex-end}</style><div id="push_notification_area"></div></template><template id="layout_push_inner_style"><style>:host{all:revert}.hide{display:none!important}@keyframes _animation_show{from{transform:translateX(100%)}to{transform:translateX(0)}}@keyframes _animation_hide{from{transform:translateX(0)}to{transform:translateX(100%)}}@keyframes _animation_destroy{from{transform:scale(1,1)}to{transform:scale(0,0)}}.animation_show{animation:_animation_show .3s ease-out}.animation_hide{animation:_animation_hide .3s ease-out}.animation_destroy{animation:_animation_destroy 50ms ease-out}.push_message{box-sizing:border-box;overflow:hidden;padding:0;margin:0;margin-top:2px;margin-left:2px;margin-right:4px;margin-bottom:4px;flex-direction:row;height:96px;min-height:96px;max-width:100%;background:#f5f5f5;display:flex;pointer-events:initial;cursor:default;transition:transform 1s;border-radius:5px;box-shadow:0 1px 1px rgba(0,0,0,.15),0 2px 2px rgba(0,0,0,.15),0 3px 3px rgba(0,0,0,.15),0 4px 4px rgba(0,0,0,.15)}.ui_elem_wrapper{display:flex}.ad_text_wrapper{flex-grow:1;flex-shrink:1;height:100%;display:inline-flex;overflow:hidden;padding-left:14px;padding-top:5px;padding-bottom:5px;box-sizing:border-box}.ad_text{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;display:flex;flex-direction:column;justify-content:space-around;height:100%;overflow:hidden;box-sizing:border-box;max-width:100%}.ad_title{font-size:16px;font-weight:700;line-height:1em;max-height:2em;min-height:1em;overflow:hidden;text-overflow:clip;margin-bottom:.2em}.ad_descr{font-size:14px;max-height:3em;line-height:1em;overflow:hidden;text-overflow:clip}.ad_icon_wrapper{width:92px;height:92px;flex-grow:0;flex-shrink:0;padding:1%;box-sizing:border-box}.ad_icon{width:100%;height:100%;border:0 solid #f5f5f5;border-radius:8px;overflow:hidden}.ad_close_button{color:#000;display:flex;justify-content:center;align-items:center;width:30px;height:100%;flex-grow:0;flex-shrink:0;padding:0;font-size:30px;cursor:default}.ad_close_button:hover{font-weight:700}@media (max-width:420px){.push_message{height:74px;min-height:74px}.ad_icon_wrapper{width:70px;height:70px}.ad_title{font-size:14px;max-height:2em}.ad_descr{font-size:13px;max-height:2em}}</style></template><template id="layout_push_inner_content"><div class="push_message animation_show"><div class="ad_icon_wrapper ui_elem_wrapper"><img class="ad_icon"></div><div class="ui_elem_wrapper ad_text_wrapper"><div class="ad_text"><div class="ad_title"></div><div class="ad_descr"></div></div></div><div class="ad_close_button ui_elem_wrapper">&times;</div></div></template>'};function u(e){var t=document.getElementById(e);if(!t)throw new Error("Can't find template fragment "+e);return t.cloneNode(!0).content}function r(e){var t=document.getElementById(e);t&&t.parentElement.removeChild(t)}var f=0;function m(a,r,s,e,i){var n,o,d=this;this.create=function(e,t){return n=function(e,t,i){var n="msg-el-"+f++,o=function(e){var t=u(p.INNER_CONTENT);t.querySelector(".ad_title").innerText=a;var i=t.querySelector(".ad_descr");void 0===r?c(i,"hide"):i.innerText=r;var n=t.querySelector(".ad_icon_wrapper");void 0===s?c(n,"hide"):n.querySelector(".ad_icon").src=s;return t.querySelector(".push_message").id=e,t}(n);0===t.children.length||i===h.TOP?t.appendChild(o):t.insertBefore(o,t.firstChild);return t.getElementById(n)}(document,e,t)},this.subscribe=function(e,t){o=t,l(n.querySelector(".ad_close_button"),"click",function(e){e.stopPropagation(),c(n,"animation_hide")}),l(n,"click",function(){e(d)})},this.show=function(){var t;l(t=n,"animationend",function(e){switch(e.animationName){case"_animation_show":break;case"_animation_hide":t.style.opacity="0",t.style.visibility="hidden",c(t,"animation_destroy");break;case"_animation_destroy":t.style.display="none",o&&o(d)}}),n.style.visibility="unset",c(n,"animation_show"),i&&function(e){if(e){var t=new Image(0,0);(t=document.body.appendChild(t)).src=e}}(i)},this.close=function(){n.remove()},this.destination=function(){return e}}function c(e,t){"classList"in e?e.classList.add(t):e.className+=" "+t}function s(i,n,e,o){var a,r,s=[];function d(e){window.open(e.destination(),"_blank"),t(e)}function l(e){t(e)}function t(e){for(var t=0;t<s.length;t++)s[t].notification===e&&(s.splice(t,1),e.close())}this.init=function(){var e=u(p.NOTIFICATION_AREA);i.body.appendChild(e),a=i.body.querySelector("#push_notification_area"),n===h.TOP?_(a,"area_top"):_(a,"area_bottom"),void 0!==o&&(a.style.zIndex=o),r=a.attachShadow({mode:"open"});var t=u(p.INNER_STYLE);r.appendChild(t)},this.count=function(){return s.length},this.available=function(){return Math.max(e-s.length,0)},this.show=function(e){var t=e.create(r,n);e.subscribe(d,l),e.show(),s.push({el:t,notification:e})}}function _(e,t){"classList"in e?e.classList.add(t):e.className+=" "+t}var x={origin:function(){return window.location.origin},userAgent:function(){return window.navigator.userAgent},location:function(){return window.location.href}};function w(e,i){var t,n,o,a;t=e,n=function(e){var t=function(e){try{var t=JSON.parse(e);if(t.result&&t.result.listing&&t.result.listing.length)return t.result.listing}catch(e){}}(e);i(t)},o=function(){i()},(a=new XMLHttpRequest).onload=function(){n(a.responseText)},a.onerror=a.ontimeout=function(){o()},a.open("GET",t),a.send()}function e(){var n=[],o={};this.string=function(e,t){if(e in o)throw new Error(e+" has been already added");return o[e]=v,n.push([e,v,t]),this},this.boolean=function(e,t){if(e in o)throw new Error(e+" has been already added");return o[e]=b,n.push([e,b,t]),this},this.integer=function(e,t){if(e in o)throw new Error(e+" has been already added");return o[e]=i,n.push([e,i,t]),this},this.positiveInteger=function(e,t){if(e in o)throw new Error(e+" has been already added");return o[e]=g,n.push([e,g,t]),this},this.position=function(e,t){if(e in o)throw new Error(e+" has been already added");return o[e]=y,n.push([e,y,t]),this},this.alias=function(e,t){if(e in o)throw new Error(e+" has been already added");if(!(t in o))throw new Error(t+" is not configured");var i;n.push([e,E,(i=t,function(e){return e[i]})])},this.build=function(){if(0===n.length)throw new Error("Validator can't be empty");return Object.freeze(new t(n))}}function t(s){this.validate=function(e){var t={};for(var i in s){var n=s[i],o=n[0],a=n[1],r=d(e,o,n[2],a,t);void 0!==r&&(t[o]=r)}return t}}function d(e,t,i,n,o){var a;if(void 0===(a="function"==typeof i?e[t]||i(o):e[t]||i))throw new Error(t+" is absent");if(void 0!==a&&!n(a))throw new Error(t+" has invalid value");return a}function i(e){return"number"==typeof e&&Math.round(e)===e}function g(e){return i(e)&&0<=e}function v(e){return"string"==typeof e}function y(e){return e===h.TOP||e===h.BOTTOM}function b(e){return!0===e||!1===e||0===e||1===e}function E(){return!0}function T(e){if(void 0===e.XMLHttpRequest)return console.warn("XMLHttpRequest is not supported"),!1;var t=e.document;if("CSS"in e){if(!CSS.supports("display","flex"))return console.warn("CSS flex is not supported"),!1}else if(void 0===t.body.style.flex&&void 0===t.body.style.msFlex)return console.warn("CSS flex is not supported"),!1;return!(t.createElement("TEMPLATE")instanceof HTMLUnknownElement)||(console.warn("TEMPLATE tag is not supported"),!1)}var n,o,N,I=(new e).string("host").positiveInteger("feed").string("auth","").string("subid","").string("query","best deals").positiveInteger("refresh",0).position("position",h.BOTTOM).position("position_mobile",h.BOTTOM).positiveInteger("slots",1).boolean("nodescr",!1).positiveInteger("z_index",999999).string("layout","base").integer("limit",-1).build();function O(e){var h,u,f,i=e,t=!1;function n(){0!==f&&(0!==h.available()?o(function(){setTimeout(n,1e3*u.refresh)}):setTimeout(n,1e3*u.refresh))}function o(t){var i,e,n,o,a,r,s,d,l;i=function(e){0<f&&(f=Math.max(0,f-e.length)),function(e){if(0===e.length)return;for(var t=0;t<e.length;t++)c(e[t],100*t)}(e),t&&t()},w((e=u.host,n=u.feed,o=u.auth,a=u.subid,r=u.query,s=0<f?Math.min(f,h.available()):h.available(),d=x.origin()||x.location(),l=encodeURIComponent(0===d.indexOf("http://localhost")?"example.com":d),"https://"+e+"/search?feed="+n+"&auth="+o+"&subid="+encodeURIComponent(a||"")+"&url="+l+"&query="+encodeURIComponent(r)+"&image_size=0x0&icon_size=0x0&ua=caller&user_ip=caller&format=json&lang=caller&count="+s),function(e){var t=[];void 0!==e&&(t=function(e){for(var t=[],i=0;i<e.length;i++)t.push((n=e[i],u.nodescr,new m(n.title,u.nodescr?void 0:n.descr,n.icon||n.image,n.url,n.pixel)));var n;return t}(e)),i(t)})}function c(e,t){window.setTimeout(function(){h.show(e)},t)}this.init=function(e){if(T(window))if(u)console.warn("init() method already invoked");else{(function(e){if(e in a)r(p.NOTIFICATION_AREA),r(p.INNER_STYLE),r(p.INNER_CONTENT),document.body.insertAdjacentHTML("beforeend",a[e]);else{if("custom"!==e)throw new Error("Unknown layout "+e);var t=document.getElementById(p.NOTIFICATION_AREA),i=document.getElementById(p.INNER_CONTENT);if(!t||!i)throw new Error("Custom layout is not properly defined")}})((u=I.validate(e)).layout),f=0<u.limit?u.slots+u.limit:-1;var t=window.matchMedia("(max-width: 420px)").matches?u.position_mobile:u.position;(h=new s(i,t,u.slots,u.z_index)).init()}},this.show=function(){if(T(window)){if(!h)throw Error("Not initialized");t?console.warn("show() method already invoked"):(t=!0,0<u.refresh?n():o())}}}n=window.inpagepush.q||[],o=new O(window.document),N=Object.freeze({init:function(e){o.init(e)},show:function(){o.show()}}),window.inpagepush=function(){N[arguments[0]].apply(this,Array.prototype.slice.call(arguments,1))},n.forEach(function(e){window.inpagepush.apply(this,e)})}();